{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siddharth\\\\Documents\\\\GitHub\\\\WhisperNet\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport axios from 'axios';\nimport FingerprintJS from '@fingerprintjs/fingerprintjs';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RELAY_SERVER_URL = \"https://whispernet-basenode.onrender.com\";\n\n// Initialize the fingerprint agent\nconst fpPromise = FingerprintJS.load();\nfunction App() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [recipient, setRecipient] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [connected, setConnected] = useState(false);\n  const [status, setStatus] = useState('Checking relay status...');\n  const [deviceId, setDeviceId] = useState('');\n  const [connectionDetails, setConnectionDetails] = useState({});\n  const [showConnectionInfo, setShowConnectionInfo] = useState(false);\n  const [securityAlert, setSecurityAlert] = useState(null);\n  const [typing, setTyping] = useState(false);\n  const [relayServerUrl, setRelayServerUrl] = useState('Unknown');\n  const [relayStatus, setRelayStatus] = useState('checking');\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [recipientStatus, setRecipientStatus] = useState({\n    exists: false,\n    online: false\n  });\n  const [isCheckingUsername, setIsCheckingUsername] = useState(false);\n  const [usernameAvailable, setUsernameAvailable] = useState(true);\n  const socketRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  const pingIntervalRef = useRef(null);\n\n  // Get device fingerprint on component mount\n  useEffect(() => {\n    const getDeviceId = async () => {\n      const fp = await fpPromise;\n      const result = await fp.get();\n      setDeviceId(result.visitorId);\n    };\n    getDeviceId();\n  }, []);\n\n  // Check relay status on initial load\n  useEffect(() => {\n    if (deviceId) {\n      checkRelayStatus();\n    }\n  }, [deviceId]);\n\n  // Function to check relay status\n  const checkRelayStatus = () => {\n    setStatus('Checking relay status...');\n\n    // Create a temporary socket just to check status\n    const tempSocket = io(RELAY_SERVER_URL.replace(/\\/$/, ''), {\n      transports: ['websocket'],\n      reconnectionAttempts: 3,\n      reconnectionDelay: 1000,\n      timeout: 5000\n    });\n    tempSocket.on('connect', () => {\n      setRelayStatus('online');\n      setStatus('Relay server online. Please login.');\n      tempSocket.disconnect();\n    });\n    tempSocket.on('connect_error', err => {\n      console.error('Connection error:', err);\n      setRelayStatus('offline');\n      setStatus('Relay server offline. Please try again later.');\n      tempSocket.disconnect();\n    });\n\n    // Set timeout for connection attempt\n    setTimeout(() => {\n      if (relayStatus === 'checking') {\n        setRelayStatus('timeout');\n        setStatus('Connection timeout. Please try again later.');\n        tempSocket.disconnect();\n      }\n    }, 5000);\n  };\n\n  // Check if username is available\n  const checkUsernameAvailability = () => {\n    if (!username || !socketRef.current) return;\n    setIsCheckingUsername(true);\n    socketRef.current.emit('checkUser', {\n      username\n    }, res => {\n      setIsCheckingUsername(false);\n      if (res && res.exists) {\n        setUsernameAvailable(false);\n        setSecurityAlert({\n          username: username,\n          message: `Username \"${username}\" is already taken. Please choose another.`\n        });\n      } else {\n        setUsernameAvailable(true);\n        handleLogin();\n      }\n    });\n  };\n  useEffect(() => {\n    if (connected) {\n      // Clear any previous connection\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n\n      // Connect to the base node with connection debugging\n      console.log('Attempting to connect to:', RELAY_SERVER_URL);\n      socketRef.current = io(RELAY_SERVER_URL.replace(/\\/$/, ''), {\n        transports: ['websocket'],\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000,\n        query: {\n          deviceId\n        }\n      });\n      setStatus('Connecting...');\n      socketRef.current.on('connect', () => {\n        setStatus('Connected');\n        setConnectionDetails({\n          socketId: socketRef.current.id,\n          transport: socketRef.current.io.engine.transport.name,\n          baseNodeUrl: BASE_NODE_URL\n        });\n\n        // Register with username and device fingerprint\n        socketRef.current.emit('register', {\n          username,\n          deviceId\n        }, res => {\n          if (!res.success) {\n            setStatus(`Error: ${res.reason}`);\n            setSecurityAlert({\n              username: username,\n              message: `Error: ${res.reason}`\n            });\n            setConnected(false);\n            socketRef.current.disconnect();\n          } else {\n            // Get relay server URL\n            socketRef.current.emit('getRelayInfo', null, relayInfo => {\n              if (relayInfo) {\n                setRelayStatus(relayInfo.status || 'online');\n                setRelayServerUrl(relayInfo.url || 'Unknown');\n                setConnectionDetails(prev => ({\n                  ...prev,\n                  relayServerUrl: relayInfo.url,\n                  relayStatus: relayInfo.status || 'online'\n                }));\n              }\n            });\n\n            // Get online users\n            socketRef.current.emit('getOnlineUsers', null, users => {\n              if (users && Array.isArray(users)) {\n                setOnlineUsers(users);\n              }\n            });\n\n            // Start ping interval to keep connection alive and update relay status\n            pingIntervalRef.current = setInterval(() => {\n              socketRef.current.emit('ping', null, response => {\n                if (response && response.relayStatus) {\n                  setRelayStatus(response.relayStatus);\n                }\n              });\n            }, 30000); // Every 30 seconds\n          }\n        });\n      });\n      socketRef.current.on('connect_error', err => {\n        console.error('Connection error:', err);\n        setStatus(`Connection error: ${err.message}`);\n        setRelayStatus('offline');\n      });\n      socketRef.current.on('disconnect', reason => {\n        setStatus(`Disconnected: ${reason}`);\n        setRelayStatus('offline');\n        clearInterval(pingIntervalRef.current);\n      });\n      socketRef.current.on('receiveMessage', ({\n        from,\n        message,\n        fromDeviceId\n      }) => {\n        // Check if the sender's device ID is different from previous messages\n        const previousMessages = messages.filter(msg => msg.from === from);\n        if (previousMessages.length > 0 && previousMessages[0].fromDeviceId && previousMessages[0].fromDeviceId !== fromDeviceId) {\n          setSecurityAlert({\n            username: from,\n            message: `Warning: ${from} appears to be messaging from a different device!`\n          });\n        }\n        setMessages(msgs => [...msgs, {\n          from,\n          message,\n          fromDeviceId,\n          timestamp: new Date()\n        }]);\n      });\n      socketRef.current.on('userTyping', ({\n        username: typingUser\n      }) => {\n        if (typingUser === recipient) {\n          setTyping(true);\n          clearTimeout(typingTimeoutRef.current);\n          typingTimeoutRef.current = setTimeout(() => setTyping(false), 3000);\n        }\n      });\n      socketRef.current.on('userStatusChange', ({\n        username: user,\n        online\n      }) => {\n        if (user === recipient) {\n          setRecipientStatus(prev => ({\n            ...prev,\n            online\n          }));\n        }\n\n        // Update online users list\n        setOnlineUsers(prev => {\n          if (online && !prev.includes(user)) {\n            return [...prev, user];\n          } else if (!online && prev.includes(user)) {\n            return prev.filter(u => u !== user);\n          }\n          return prev;\n        });\n      });\n      socketRef.current.on('relayStatusUpdate', ({\n        relayId,\n        status\n      }) => {\n        if (connectionDetails.relayServerUrl === relayId) {\n          setRelayStatus(status);\n          setConnectionDetails(prev => ({\n            ...prev,\n            relayStatus: status\n          }));\n        }\n      });\n      return () => {\n        clearInterval(pingIntervalRef.current);\n        socketRef.current.disconnect();\n      };\n    }\n  }, [connected, username, deviceId, messages, connectionDetails.relayServerUrl]);\n\n  // Effect to check recipient status whenever recipient changes\n  useEffect(() => {\n    if (connected && socketRef.current && recipient) {\n      socketRef.current.emit('checkRecipient', {\n        username: recipient\n      }, res => {\n        setRecipientStatus(res || {\n          exists: false,\n          online: false\n        });\n      });\n    } else {\n      setRecipientStatus({\n        exists: false,\n        online: false\n      });\n    }\n  }, [connected, recipient]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleUsernameSubmit = e => {\n    e.preventDefault();\n    if (username && relayStatus === 'online') {\n      // First connect to socket\n      setConnected(true);\n      // Username check will happen after connection in the useEffect\n    }\n  };\n  const handleLogin = () => {\n    // This is called after username availability check\n    console.log('Username available, proceeding with login');\n  };\n\n  // Handle recipient change\n  const handleRecipientChange = e => {\n    setRecipient(e.target.value);\n    setRecipientStatus({\n      exists: false,\n      online: false\n    });\n  };\n\n  // Check recipient status before sending\n  const checkRecipient = () => {\n    if (!recipient || !socketRef.current) return;\n    socketRef.current.emit('checkRecipient', {\n      username: recipient\n    }, res => {\n      setRecipientStatus(res || {\n        exists: false,\n        online: false\n      });\n    });\n  };\n\n  // Update handleSend to check recipient status first\n  const handleSend = e => {\n    e.preventDefault();\n    if (!recipient || !message || !socketRef.current) return;\n\n    // First check if recipient exists and is online\n    socketRef.current.emit('checkRecipient', {\n      username: recipient\n    }, res => {\n      if (!res.exists) {\n        setSecurityAlert({\n          username: recipient,\n          message: `User ${recipient} does not exist`\n        });\n        return;\n      }\n      if (!res.online) {\n        setSecurityAlert({\n          username: recipient,\n          message: `User ${recipient} is currently offline`\n        });\n        return;\n      }\n\n      // Recipient exists and is online, send the message\n      console.log('Sending message to:', recipient);\n      socketRef.current.emit('sendMessage', {\n        to: recipient,\n        message,\n        deviceId\n      }, res => {\n        console.log('Message send response:', res);\n        if (res !== null && res !== void 0 && res.delivered) {\n          setMessages(msgs => [...msgs, {\n            from: username,\n            message,\n            fromDeviceId: deviceId,\n            timestamp: new Date()\n          }]);\n          setMessage('');\n        } else {\n          setStatus((res === null || res === void 0 ? void 0 : res.reason) || 'Delivery failed');\n          setSecurityAlert({\n            username: recipient,\n            message: `Failed to send message: ${(res === null || res === void 0 ? void 0 : res.reason) || 'Delivery failed'}`\n          });\n        }\n      });\n    });\n  };\n  const handleMessageChange = e => {\n    setMessage(e.target.value);\n    // Emit typing event\n    if (socketRef.current && recipient) {\n      socketRef.current.emit('typing', {\n        to: recipient\n      });\n    }\n  };\n  const dismissAlert = () => {\n    setSecurityAlert(null);\n  };\n  const retryConnection = () => {\n    checkRelayStatus();\n  };\n\n  // Terminal-style timestamp\n  const getTimestamp = () => {\n    const now = new Date();\n    return `[${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}]`;\n  };\n\n  // Format message timestamp\n  const formatMessageTime = timestamp => {\n    if (!timestamp) return getTimestamp();\n    const date = new Date(timestamp);\n    return `[${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}]`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: '#0a0e14',\n      minHeight: '100vh',\n      color: '#a2aabc',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontFamily: '\"Fira Code\", monospace'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#171c28',\n        padding: 32,\n        borderRadius: 8,\n        minWidth: 400,\n        maxWidth: 600,\n        boxShadow: '0 4px 30px rgba(0, 255, 170, 0.15)',\n        border: '1px solid rgba(0, 255, 170, 0.3)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            color: '#5ccfe6',\n            fontFamily: '\"Fira Code\", monospace',\n            letterSpacing: '1px'\n          },\n          children: \"WhisperNet_\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            padding: '4px 8px',\n            borderRadius: 4,\n            background: relayStatus === 'online' ? '#1c4b3c' : '#4b1c1c',\n            color: relayStatus === 'online' ? '#5ccfe6' : '#ff8f40',\n            cursor: 'pointer'\n          },\n          onClick: () => setShowConnectionInfo(!showConnectionInfo),\n          children: relayStatus === 'online' ? 'Relay Online' : 'Relay Offline'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), showConnectionInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#0d1117',\n          padding: 12,\n          borderRadius: 4,\n          fontSize: 12,\n          fontFamily: 'monospace',\n          marginBottom: 16,\n          border: '1px solid #1e2d3d'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Status: \", status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this), connected && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Socket ID: \", connectionDetails.socketId || 'unknown']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Transport: \", connectionDetails.transport || 'unknown']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Base Node: \", connectionDetails.baseNodeUrl || 'unknown']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Relay Server: \", connectionDetails.relayServerUrl || relayServerUrl]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Relay Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: relayStatus === 'online' ? '#bae67e' : '#ff8f40'\n            },\n            children: relayStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), deviceId && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Device ID: \", deviceId.substring(0, 8), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 26\n        }, this), connected && onlineUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [\"Online Users: \", onlineUsers.join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 11\n      }, this), securityAlert && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#4b1c1c',\n          color: '#ff8f40',\n          padding: 12,\n          borderRadius: 4,\n          marginBottom: 16,\n          position: 'relative',\n          fontSize: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginRight: 20\n          },\n          children: securityAlert.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            position: 'absolute',\n            top: 8,\n            right: 8,\n            background: 'none',\n            border: 'none',\n            color: '#ff8f40',\n            cursor: 'pointer',\n            fontSize: 16\n          },\n          onClick: dismissAlert,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this), !connected ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16,\n            fontSize: 14,\n            color: '#5ccfe6'\n          },\n          children: [getTimestamp(), \" Initializing secure connection...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: '100%',\n            padding: 10,\n            marginBottom: 12,\n            borderRadius: 4,\n            border: '1px solid #1e2d3d',\n            background: '#0d1117',\n            color: '#a2aabc',\n            fontSize: 16,\n            fontFamily: '\"Fira Code\", monospace'\n          },\n          placeholder: \"Enter username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            width: '100%',\n            padding: 10,\n            borderRadius: 4,\n            background: 'linear-gradient(90deg, #5ccfe6, #bae67e)',\n            color: '#171c28',\n            fontWeight: 'bold',\n            fontSize: 16,\n            border: 'none',\n            cursor: 'pointer',\n            fontFamily: '\"Fira Code\", monospace'\n          },\n          type: \"submit\",\n          children: \"AUTHENTICATE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12,\n            color: '#ff3333',\n            textAlign: 'center',\n            fontSize: 14\n          },\n          children: status !== 'Disconnected' && status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSend,\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                flex: 1,\n                padding: 10,\n                borderRadius: 4,\n                border: '1px solid #1e2d3d',\n                background: '#0d1117',\n                color: '#a2aabc',\n                fontSize: 14,\n                marginRight: 8,\n                fontFamily: '\"Fira Code\", monospace'\n              },\n              placeholder: \"Recipient username\",\n              value: recipient,\n              onChange: handleRecipientChange,\n              onBlur: checkRecipient,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), recipient && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                marginLeft: 8,\n                fontSize: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 8,\n                  height: 8,\n                  borderRadius: '50%',\n                  background: recipientStatus.online ? '#bae67e' : '#ff3333',\n                  marginRight: 6\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 21\n              }, this), recipientStatus.exists ? recipientStatus.online ? 'ONLINE' : 'OFFLINE' : 'NOT FOUND']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                flex: 1,\n                padding: 10,\n                borderRadius: 4,\n                border: '1px solid #1e2d3d',\n                background: '#0d1117',\n                color: '#a2aabc',\n                fontSize: 14,\n                marginRight: 8,\n                fontFamily: '\"Fira Code\", monospace'\n              },\n              placeholder: \"Type a message\",\n              value: message,\n              onChange: handleMessageChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                padding: '0 18px',\n                borderRadius: 4,\n                background: recipientStatus === 'Online' ? 'linear-gradient(90deg, #5ccfe6, #bae67e)' : 'linear-gradient(90deg, #636b78, #636b78)',\n                color: '#171c28',\n                fontWeight: 'bold',\n                fontSize: 14,\n                border: 'none',\n                cursor: recipientStatus === 'Online' ? 'pointer' : 'not-allowed',\n                fontFamily: '\"Fira Code\", monospace'\n              },\n              type: \"submit\",\n              disabled: recipientStatus !== 'Online',\n              children: \"SEND\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }, this), typing && recipient && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            color: '#5ccfe6',\n            marginBottom: 8\n          },\n          children: [recipient, \" is typing...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#0d1117',\n            borderRadius: 4,\n            padding: 12,\n            minHeight: 200,\n            maxHeight: 350,\n            overflowY: 'auto',\n            marginBottom: 12,\n            border: '1px solid #1e2d3d',\n            fontFamily: 'monospace'\n          },\n          children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#5ccfe6',\n              fontSize: 14\n            },\n            children: [getTimestamp(), \" Connection established. Awaiting transmission...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 17\n          }, this) : messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 12,\n              padding: 8,\n              borderRadius: 4,\n              background: msg.from === username ? 'rgba(92, 207, 230, 0.1)' : 'rgba(186, 230, 126, 0.1)',\n              borderLeft: msg.from === username ? '2px solid #5ccfe6' : '2px solid #bae67e'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: 4,\n                fontSize: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: msg.from === username ? '#5ccfe6' : '#bae67e',\n                  fontWeight: 'bold'\n                },\n                children: msg.from === username ? 'YOU' : msg.from\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#636b78'\n                },\n                children: formatMessageTime(msg.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                wordBreak: 'break-word',\n                fontSize: 14\n              },\n              children: msg.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 21\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 19\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: '8px 16px',\n              borderRadius: 4,\n              background: '#4b1c1c',\n              color: '#ff8f40',\n              fontSize: 14,\n              border: 'none',\n              cursor: 'pointer',\n              fontFamily: '\"Fira Code\", monospace'\n            },\n            onClick: () => setConnected(false),\n            children: \"DISCONNECT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: '#636b78',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: 8,\n                height: 8,\n                borderRadius: '50%',\n                background: status.includes('Connected') ? '#bae67e' : '#ff3333',\n                marginRight: 6\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 17\n            }, this), status.includes('Connected') ? 'SECURE CONNECTION' : 'CONNECTION LOST']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 357,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"1FLrEgn4KmjSG1d8OO5YusiY8ZY=\");\n_c = App;\nexport default App;\n\n// Add this function before the handleSend function\nconst handleRecipientChange = e => {\n  setRecipient(e.target.value);\n  setRecipientStatus({\n    exists: false,\n    online: false\n  });\n};\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","io","axios","FingerprintJS","jsxDEV","_jsxDEV","Fragment","_Fragment","RELAY_SERVER_URL","fpPromise","load","App","_s","username","setUsername","recipient","setRecipient","message","setMessage","messages","setMessages","connected","setConnected","status","setStatus","deviceId","setDeviceId","connectionDetails","setConnectionDetails","showConnectionInfo","setShowConnectionInfo","securityAlert","setSecurityAlert","typing","setTyping","relayServerUrl","setRelayServerUrl","relayStatus","setRelayStatus","onlineUsers","setOnlineUsers","recipientStatus","setRecipientStatus","exists","online","isCheckingUsername","setIsCheckingUsername","usernameAvailable","setUsernameAvailable","socketRef","messagesEndRef","typingTimeoutRef","pingIntervalRef","getDeviceId","fp","result","get","visitorId","checkRelayStatus","tempSocket","replace","transports","reconnectionAttempts","reconnectionDelay","timeout","on","disconnect","err","console","error","setTimeout","checkUsernameAvailability","current","emit","res","handleLogin","log","query","socketId","id","transport","engine","name","baseNodeUrl","BASE_NODE_URL","success","reason","relayInfo","url","prev","users","Array","isArray","setInterval","response","clearInterval","from","fromDeviceId","previousMessages","filter","msg","length","msgs","timestamp","Date","typingUser","clearTimeout","user","includes","u","relayId","_messagesEndRef$curre","scrollIntoView","behavior","handleUsernameSubmit","e","preventDefault","handleRecipientChange","target","value","checkRecipient","handleSend","to","delivered","handleMessageChange","dismissAlert","retryConnection","getTimestamp","now","getHours","toString","padStart","getMinutes","getSeconds","formatMessageTime","date","style","background","minHeight","color","display","alignItems","justifyContent","fontFamily","children","padding","borderRadius","minWidth","maxWidth","boxShadow","border","marginBottom","margin","letterSpacing","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","cursor","onClick","substring","marginTop","join","position","marginRight","top","right","onSubmit","width","placeholder","onChange","required","fontWeight","type","textAlign","flexDirection","flex","onBlur","marginLeft","height","disabled","maxHeight","overflowY","map","i","borderLeft","wordBreak","ref","_c","$RefreshReg$"],"sources":["C:/Users/siddharth/Documents/GitHub/WhisperNet/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport FingerprintJS from '@fingerprintjs/fingerprintjs';\r\n\r\nconst RELAY_SERVER_URL = \"https://whispernet-basenode.onrender.com\";\r\n\r\n// Initialize the fingerprint agent\r\nconst fpPromise = FingerprintJS.load();\r\n\r\nfunction App() {\r\n  const [username, setUsername] = useState('');\r\n  const [recipient, setRecipient] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [connected, setConnected] = useState(false);\r\n  const [status, setStatus] = useState('Checking relay status...');\r\n  const [deviceId, setDeviceId] = useState('');\r\n  const [connectionDetails, setConnectionDetails] = useState({});\r\n  const [showConnectionInfo, setShowConnectionInfo] = useState(false);\r\n  const [securityAlert, setSecurityAlert] = useState(null);\r\n  const [typing, setTyping] = useState(false);\r\n  const [relayServerUrl, setRelayServerUrl] = useState('Unknown');\r\n  const [relayStatus, setRelayStatus] = useState('checking');\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [recipientStatus, setRecipientStatus] = useState({ exists: false, online: false });\r\n  const [isCheckingUsername, setIsCheckingUsername] = useState(false);\r\n  const [usernameAvailable, setUsernameAvailable] = useState(true);\r\n  const socketRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n  const pingIntervalRef = useRef(null);\r\n\r\n  // Get device fingerprint on component mount\r\n  useEffect(() => {\r\n    const getDeviceId = async () => {\r\n      const fp = await fpPromise;\r\n      const result = await fp.get();\r\n      setDeviceId(result.visitorId);\r\n    };\r\n    getDeviceId();\r\n  }, []);\r\n\r\n  // Check relay status on initial load\r\n  useEffect(() => {\r\n    if (deviceId) {\r\n      checkRelayStatus();\r\n    }\r\n  }, [deviceId]);\r\n\r\n  // Function to check relay status\r\n  const checkRelayStatus = () => {\r\n    setStatus('Checking relay status...');\r\n    \r\n    // Create a temporary socket just to check status\r\n    const tempSocket = io(RELAY_SERVER_URL.replace(/\\/$/, ''), {\r\n      transports: ['websocket'],\r\n      reconnectionAttempts: 3,\r\n      reconnectionDelay: 1000,\r\n      timeout: 5000\r\n    });\r\n    \r\n    tempSocket.on('connect', () => {\r\n      setRelayStatus('online');\r\n      setStatus('Relay server online. Please login.');\r\n      tempSocket.disconnect();\r\n    });\r\n    \r\n    tempSocket.on('connect_error', (err) => {\r\n      console.error('Connection error:', err);\r\n      setRelayStatus('offline');\r\n      setStatus('Relay server offline. Please try again later.');\r\n      tempSocket.disconnect();\r\n    });\r\n    \r\n    // Set timeout for connection attempt\r\n    setTimeout(() => {\r\n      if (relayStatus === 'checking') {\r\n        setRelayStatus('timeout');\r\n        setStatus('Connection timeout. Please try again later.');\r\n        tempSocket.disconnect();\r\n      }\r\n    }, 5000);\r\n  };\r\n\r\n  // Check if username is available\r\n  const checkUsernameAvailability = () => {\r\n    if (!username || !socketRef.current) return;\r\n    \r\n    setIsCheckingUsername(true);\r\n    socketRef.current.emit('checkUser', { username }, (res) => {\r\n      setIsCheckingUsername(false);\r\n      if (res && res.exists) {\r\n        setUsernameAvailable(false);\r\n        setSecurityAlert({\r\n          username: username,\r\n          message: `Username \"${username}\" is already taken. Please choose another.`\r\n        });\r\n      } else {\r\n        setUsernameAvailable(true);\r\n        handleLogin();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (connected) {\r\n      // Clear any previous connection\r\n      if (socketRef.current) {\r\n        socketRef.current.disconnect();\r\n      }\r\n      \r\n      // Connect to the base node with connection debugging\r\n      console.log('Attempting to connect to:', RELAY_SERVER_URL);\r\n      socketRef.current = io(RELAY_SERVER_URL.replace(/\\/$/, ''), {\r\n        transports: ['websocket'],\r\n        reconnectionAttempts: 5,\r\n        reconnectionDelay: 1000,\r\n        query: { deviceId }\r\n      });\r\n      \r\n      setStatus('Connecting...');\r\n      \r\n      socketRef.current.on('connect', () => {\r\n        setStatus('Connected');\r\n        setConnectionDetails({\r\n          socketId: socketRef.current.id,\r\n          transport: socketRef.current.io.engine.transport.name,\r\n          baseNodeUrl: BASE_NODE_URL\r\n        });\r\n        \r\n        // Register with username and device fingerprint\r\n        socketRef.current.emit('register', { username, deviceId }, (res) => {\r\n          if (!res.success) {\r\n            setStatus(`Error: ${res.reason}`);\r\n            setSecurityAlert({\r\n              username: username,\r\n              message: `Error: ${res.reason}`\r\n            });\r\n            setConnected(false);\r\n            socketRef.current.disconnect();\r\n          } else {\r\n            // Get relay server URL\r\n            socketRef.current.emit('getRelayInfo', null, (relayInfo) => {\r\n              if (relayInfo) {\r\n                setRelayStatus(relayInfo.status || 'online');\r\n                setRelayServerUrl(relayInfo.url || 'Unknown');\r\n                setConnectionDetails(prev => ({\r\n                  ...prev,\r\n                  relayServerUrl: relayInfo.url,\r\n                  relayStatus: relayInfo.status || 'online'\r\n                }));\r\n              }\r\n            });\r\n            \r\n            // Get online users\r\n            socketRef.current.emit('getOnlineUsers', null, (users) => {\r\n              if (users && Array.isArray(users)) {\r\n                setOnlineUsers(users);\r\n              }\r\n            });\r\n            \r\n            // Start ping interval to keep connection alive and update relay status\r\n            pingIntervalRef.current = setInterval(() => {\r\n              socketRef.current.emit('ping', null, (response) => {\r\n                if (response && response.relayStatus) {\r\n                  setRelayStatus(response.relayStatus);\r\n                }\r\n              });\r\n            }, 30000); // Every 30 seconds\r\n          }\r\n        });\r\n      });\r\n      \r\n      socketRef.current.on('connect_error', (err) => {\r\n        console.error('Connection error:', err);\r\n        setStatus(`Connection error: ${err.message}`);\r\n        setRelayStatus('offline');\r\n      });\r\n      \r\n      socketRef.current.on('disconnect', (reason) => {\r\n        setStatus(`Disconnected: ${reason}`);\r\n        setRelayStatus('offline');\r\n        clearInterval(pingIntervalRef.current);\r\n      });\r\n      \r\n      socketRef.current.on('receiveMessage', ({ from, message, fromDeviceId }) => {\r\n        // Check if the sender's device ID is different from previous messages\r\n        const previousMessages = messages.filter(msg => msg.from === from);\r\n        if (previousMessages.length > 0 && previousMessages[0].fromDeviceId && \r\n            previousMessages[0].fromDeviceId !== fromDeviceId) {\r\n          setSecurityAlert({\r\n            username: from,\r\n            message: `Warning: ${from} appears to be messaging from a different device!`\r\n          });\r\n        }\r\n        \r\n        setMessages((msgs) => [...msgs, { from, message, fromDeviceId, timestamp: new Date() }]);\r\n      });\r\n      \r\n      socketRef.current.on('userTyping', ({ username: typingUser }) => {\r\n        if (typingUser === recipient) {\r\n          setTyping(true);\r\n          clearTimeout(typingTimeoutRef.current);\r\n          typingTimeoutRef.current = setTimeout(() => setTyping(false), 3000);\r\n        }\r\n      });\r\n      \r\n      socketRef.current.on('userStatusChange', ({ username: user, online }) => {\r\n        if (user === recipient) {\r\n          setRecipientStatus(prev => ({ ...prev, online }));\r\n        }\r\n        \r\n        // Update online users list\r\n        setOnlineUsers(prev => {\r\n          if (online && !prev.includes(user)) {\r\n            return [...prev, user];\r\n          } else if (!online && prev.includes(user)) {\r\n            return prev.filter(u => u !== user);\r\n          }\r\n          return prev;\r\n        });\r\n      });\r\n      \r\n      socketRef.current.on('relayStatusUpdate', ({ relayId, status }) => {\r\n        if (connectionDetails.relayServerUrl === relayId) {\r\n          setRelayStatus(status);\r\n          setConnectionDetails(prev => ({\r\n            ...prev,\r\n            relayStatus: status\r\n          }));\r\n        }\r\n      });\r\n      \r\n      return () => {\r\n        clearInterval(pingIntervalRef.current);\r\n        socketRef.current.disconnect();\r\n      };\r\n    }\r\n  }, [connected, username, deviceId, messages, connectionDetails.relayServerUrl]);\r\n\r\n  // Effect to check recipient status whenever recipient changes\r\n  useEffect(() => {\r\n    if (connected && socketRef.current && recipient) {\r\n      socketRef.current.emit('checkRecipient', { username: recipient }, (res) => {\r\n        setRecipientStatus(res || { exists: false, online: false });\r\n      });\r\n    } else {\r\n      setRecipientStatus({ exists: false, online: false });\r\n    }\r\n  }, [connected, recipient]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const handleUsernameSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (username && relayStatus === 'online') {\r\n      // First connect to socket\r\n      setConnected(true);\r\n      // Username check will happen after connection in the useEffect\r\n    }\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    // This is called after username availability check\r\n    console.log('Username available, proceeding with login');\r\n  };\r\n\r\n  // Handle recipient change\r\n  const handleRecipientChange = (e) => {\r\n    setRecipient(e.target.value);\r\n    setRecipientStatus({ exists: false, online: false });\r\n  };\r\n\r\n  // Check recipient status before sending\r\n  const checkRecipient = () => {\r\n    if (!recipient || !socketRef.current) return;\r\n    \r\n    socketRef.current.emit('checkRecipient', { username: recipient }, (res) => {\r\n      setRecipientStatus(res || { exists: false, online: false });\r\n    });\r\n  };\r\n\r\n  // Update handleSend to check recipient status first\r\n  const handleSend = (e) => {\r\n    e.preventDefault();\r\n    if (!recipient || !message || !socketRef.current) return;\r\n    \r\n    // First check if recipient exists and is online\r\n    socketRef.current.emit('checkRecipient', { username: recipient }, (res) => {\r\n      if (!res.exists) {\r\n        setSecurityAlert({\r\n          username: recipient,\r\n          message: `User ${recipient} does not exist`\r\n        });\r\n        return;\r\n      }\r\n      \r\n      if (!res.online) {\r\n        setSecurityAlert({\r\n          username: recipient,\r\n          message: `User ${recipient} is currently offline`\r\n        });\r\n        return;\r\n      }\r\n      \r\n      // Recipient exists and is online, send the message\r\n      console.log('Sending message to:', recipient);\r\n      socketRef.current.emit('sendMessage', { to: recipient, message, deviceId }, (res) => {\r\n        console.log('Message send response:', res);\r\n        if (res?.delivered) {\r\n          setMessages((msgs) => [...msgs, { from: username, message, fromDeviceId: deviceId, timestamp: new Date() }]);\r\n          setMessage('');\r\n        } else {\r\n          setStatus(res?.reason || 'Delivery failed');\r\n          setSecurityAlert({\r\n            username: recipient,\r\n            message: `Failed to send message: ${res?.reason || 'Delivery failed'}`\r\n          });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleMessageChange = (e) => {\r\n    setMessage(e.target.value);\r\n    // Emit typing event\r\n    if (socketRef.current && recipient) {\r\n      socketRef.current.emit('typing', { to: recipient });\r\n    }\r\n  };\r\n\r\n  const dismissAlert = () => {\r\n    setSecurityAlert(null);\r\n  };\r\n\r\n  const retryConnection = () => {\r\n    checkRelayStatus();\r\n  };\r\n\r\n  // Terminal-style timestamp\r\n  const getTimestamp = () => {\r\n    const now = new Date();\r\n    return `[${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}]`;\r\n  };\r\n\r\n  // Format message timestamp\r\n  const formatMessageTime = (timestamp) => {\r\n    if (!timestamp) return getTimestamp();\r\n    const date = new Date(timestamp);\r\n    return `[${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}]`;\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      background: '#0a0e14', \r\n      minHeight: '100vh', \r\n      color: '#a2aabc', \r\n      display: 'flex', \r\n      alignItems: 'center', \r\n      justifyContent: 'center',\r\n      fontFamily: '\"Fira Code\", monospace'\r\n    }}>\r\n      <div style={{ \r\n        background: '#171c28', \r\n        padding: 32, \r\n        borderRadius: 8, \r\n        minWidth: 400,\r\n        maxWidth: 600,\r\n        boxShadow: '0 4px 30px rgba(0, 255, 170, 0.15)',\r\n        border: '1px solid rgba(0, 255, 170, 0.3)'\r\n      }}>\r\n        <div style={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          marginBottom: 24 \r\n        }}>\r\n          <h2 style={{ \r\n            margin: 0, \r\n            color: '#5ccfe6', \r\n            fontFamily: '\"Fira Code\", monospace',\r\n            letterSpacing: '1px'\r\n          }}>WhisperNet_</h2>\r\n          <div style={{ \r\n            fontSize: 12, \r\n            padding: '4px 8px', \r\n            borderRadius: 4, \r\n            background: relayStatus === 'online' ? '#1c4b3c' : '#4b1c1c',\r\n            color: relayStatus === 'online' ? '#5ccfe6' : '#ff8f40',\r\n            cursor: 'pointer'\r\n          }} onClick={() => setShowConnectionInfo(!showConnectionInfo)}>\r\n            {relayStatus === 'online' ? 'Relay Online' : 'Relay Offline'}\r\n          </div>\r\n        </div>\r\n        \r\n        {showConnectionInfo && (\r\n          <div style={{ \r\n            background: '#0d1117', \r\n            padding: 12, \r\n            borderRadius: 4, \r\n            fontSize: 12, \r\n            fontFamily: 'monospace',\r\n            marginBottom: 16,\r\n            border: '1px solid #1e2d3d'\r\n          }}>\r\n            <div>Status: {status}</div>\r\n            {connected && (\r\n              <>\r\n                <div>Socket ID: {connectionDetails.socketId || 'unknown'}</div>\r\n                <div>Transport: {connectionDetails.transport || 'unknown'}</div>\r\n                <div>Base Node: {connectionDetails.baseNodeUrl || 'unknown'}</div>\r\n                <div>Relay Server: {connectionDetails.relayServerUrl || relayServerUrl}</div>\r\n              </>\r\n            )}\r\n            <div>Relay Status: <span style={{\r\n              color: relayStatus === 'online' ? '#bae67e' : '#ff8f40'\r\n            }}>{relayStatus}</span></div>\r\n            {deviceId && <div>Device ID: {deviceId.substring(0, 8)}...</div>}\r\n            {connected && onlineUsers.length > 0 && (\r\n              <div style={{ marginTop: 8 }}>Online Users: {onlineUsers.join(', ')}</div>\r\n            )}\r\n          </div>\r\n        )}\r\n        \r\n        {securityAlert && (\r\n          <div style={{ \r\n            background: '#4b1c1c', \r\n            color: '#ff8f40', \r\n            padding: 12, \r\n            borderRadius: 4, \r\n            marginBottom: 16,\r\n            position: 'relative',\r\n            fontSize: 14\r\n          }}>\r\n            <div style={{ marginRight: 20 }}>{securityAlert.message}</div>\r\n            <button \r\n              style={{ \r\n                position: 'absolute', \r\n                top: 8, \r\n                right: 8, \r\n                background: 'none', \r\n                border: 'none', \r\n                color: '#ff8f40', \r\n                cursor: 'pointer',\r\n                fontSize: 16\r\n              }}\r\n              onClick={dismissAlert}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        {!connected ? (\r\n          <form onSubmit={handleLogin}>\r\n            <div style={{ marginBottom: 16, fontSize: 14, color: '#5ccfe6' }}>\r\n              {getTimestamp()} Initializing secure connection...\r\n            </div>\r\n            <input\r\n              style={{ \r\n                width: '100%', \r\n                padding: 10, \r\n                marginBottom: 12, \r\n                borderRadius: 4, \r\n                border: '1px solid #1e2d3d', \r\n                background: '#0d1117',\r\n                color: '#a2aabc',\r\n                fontSize: 16,\r\n                fontFamily: '\"Fira Code\", monospace'\r\n              }}\r\n              placeholder=\"Enter username\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n              required\r\n            />\r\n            <button \r\n              style={{ \r\n                width: '100%', \r\n                padding: 10, \r\n                borderRadius: 4, \r\n                background: 'linear-gradient(90deg, #5ccfe6, #bae67e)', \r\n                color: '#171c28', \r\n                fontWeight: 'bold', \r\n                fontSize: 16, \r\n                border: 'none',\r\n                cursor: 'pointer',\r\n                fontFamily: '\"Fira Code\", monospace'\r\n              }} \r\n              type=\"submit\"\r\n            >\r\n              AUTHENTICATE\r\n            </button>\r\n            <div style={{ marginTop: 12, color: '#ff3333', textAlign: 'center', fontSize: 14 }}>\r\n              {status !== 'Disconnected' && status}\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <>\r\n            <form onSubmit={handleSend} style={{ display: 'flex', flexDirection: 'column', marginBottom: 16 }}>\r\n              <div style={{ display: 'flex', marginBottom: 8 }}>\r\n                <input\r\n                  style={{ \r\n                    flex: 1, \r\n                    padding: 10, \r\n                    borderRadius: 4, \r\n                    border: '1px solid #1e2d3d', \r\n                    background: '#0d1117',\r\n                    color: '#a2aabc',\r\n                    fontSize: 14,\r\n                    marginRight: 8,\r\n                    fontFamily: '\"Fira Code\", monospace'\r\n                  }}\r\n                  placeholder=\"Recipient username\"\r\n                  value={recipient}\r\n                  onChange={handleRecipientChange}\r\n                  onBlur={checkRecipient}\r\n                  required\r\n                />\r\n                {recipient && (\r\n                  <div style={{ \r\n                    display: 'flex', \r\n                    alignItems: 'center', \r\n                    marginLeft: 8,\r\n                    fontSize: 12\r\n                  }}>\r\n                    <div style={{ \r\n                      width: 8, \r\n                      height: 8, \r\n                      borderRadius: '50%', \r\n                      background: recipientStatus.online ? '#bae67e' : '#ff3333',\r\n                      marginRight: 6 \r\n                    }}></div>\r\n                    {recipientStatus.exists \r\n                      ? (recipientStatus.online ? 'ONLINE' : 'OFFLINE') \r\n                      : 'NOT FOUND'}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div style={{ display: 'flex' }}>\r\n                <input\r\n                  style={{ \r\n                    flex: 1, \r\n                    padding: 10, \r\n                    borderRadius: 4, \r\n                    border: '1px solid #1e2d3d', \r\n                    background: '#0d1117',\r\n                    color: '#a2aabc',\r\n                    fontSize: 14,\r\n                    marginRight: 8,\r\n                    fontFamily: '\"Fira Code\", monospace'\r\n                  }}\r\n                  placeholder=\"Type a message\"\r\n                  value={message}\r\n                  onChange={handleMessageChange}\r\n                  required\r\n                />\r\n                <button \r\n                  style={{ \r\n                    padding: '0 18px', \r\n                    borderRadius: 4, \r\n                    background: recipientStatus === 'Online' ? \r\n                      'linear-gradient(90deg, #5ccfe6, #bae67e)' : \r\n                      'linear-gradient(90deg, #636b78, #636b78)', \r\n                    color: '#171c28', \r\n                    fontWeight: 'bold', \r\n                    fontSize: 14, \r\n                    border: 'none',\r\n                    cursor: recipientStatus === 'Online' ? 'pointer' : 'not-allowed',\r\n                    fontFamily: '\"Fira Code\", monospace'\r\n                  }} \r\n                  type=\"submit\"\r\n                  disabled={recipientStatus !== 'Online'}\r\n                >\r\n                  SEND\r\n                </button>\r\n              </div>\r\n            </form>\r\n            \r\n            {typing && recipient && (\r\n              <div style={{ fontSize: 12, color: '#5ccfe6', marginBottom: 8 }}>\r\n                {recipient} is typing...\r\n              </div>\r\n            )}\r\n            \r\n            <div style={{ \r\n              background: '#0d1117', \r\n              borderRadius: 4, \r\n              padding: 12, \r\n              minHeight: 200, \r\n              maxHeight: 350, \r\n              overflowY: 'auto', \r\n              marginBottom: 12,\r\n              border: '1px solid #1e2d3d',\r\n              fontFamily: 'monospace'\r\n            }}>\r\n              {messages.length === 0 ? (\r\n                <div style={{ color: '#5ccfe6', fontSize: 14 }}>\r\n                  {getTimestamp()} Connection established. Awaiting transmission...\r\n                </div>\r\n              ) : (\r\n                messages.map((msg, i) => (\r\n                  <div key={i} style={{ \r\n                    marginBottom: 12, \r\n                    padding: 8,\r\n                    borderRadius: 4,\r\n                    background: msg.from === username ? 'rgba(92, 207, 230, 0.1)' : 'rgba(186, 230, 126, 0.1)',\r\n                    borderLeft: msg.from === username ? '2px solid #5ccfe6' : '2px solid #bae67e'\r\n                  }}>\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      marginBottom: 4, \r\n                      fontSize: 12 \r\n                    }}>\r\n                      <span style={{ \r\n                        color: msg.from === username ? '#5ccfe6' : '#bae67e',\r\n                        fontWeight: 'bold'\r\n                      }}>\r\n                        {msg.from === username ? 'YOU' : msg.from}\r\n                      </span>\r\n                      <span style={{ color: '#636b78' }}>{formatMessageTime(msg.timestamp)}</span>\r\n                    </div>\r\n                    <div style={{ wordBreak: 'break-word', fontSize: 14 }}>{msg.message}</div>\r\n                  </div>\r\n                ))\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n            \r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <button \r\n                style={{ \r\n                  padding: '8px 16px', \r\n                  borderRadius: 4, \r\n                  background: '#4b1c1c', \r\n                  color: '#ff8f40', \r\n                  fontSize: 14, \r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  fontFamily: '\"Fira Code\", monospace'\r\n                }} \r\n                onClick={() => setConnected(false)}\r\n              >\r\n                DISCONNECT\r\n              </button>\r\n              \r\n              <div style={{ \r\n                fontSize: 12, \r\n                color: '#636b78', \r\n                display: 'flex', \r\n                alignItems: 'center' \r\n              }}>\r\n                <div style={{ \r\n                  width: 8, \r\n                  height: 8, \r\n                  borderRadius: '50%', \r\n                  background: status.includes('Connected') ? '#bae67e' : '#ff3333',\r\n                  marginRight: 6 \r\n                }}></div>\r\n                {status.includes('Connected') ? 'SECURE CONNECTION' : 'CONNECTION LOST'}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// Add this function before the handleSend function\r\nconst handleRecipientChange = (e) => {\r\n  setRecipient(e.target.value);\r\n  setRecipientStatus({ exists: false, online: false });\r\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,EAAE,MAAM,kBAAkB;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,aAAa,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzD,MAAMC,gBAAgB,GAAG,0CAA0C;;AAEnE;AACA,MAAMC,SAAS,GAAGN,aAAa,CAACO,IAAI,CAAC,CAAC;AAEtC,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyB,MAAM,EAAEC,SAAS,CAAC,GAAG1B,QAAQ,CAAC,0BAA0B,CAAC;EAChE,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC6B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG9B,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9D,MAAM,CAAC+B,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhC,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACiC,aAAa,EAAEC,gBAAgB,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACmC,MAAM,EAAEC,SAAS,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACqC,cAAc,EAAEC,iBAAiB,CAAC,GAAGtC,QAAQ,CAAC,SAAS,CAAC;EAC/D,MAAM,CAACuC,WAAW,EAAEC,cAAc,CAAC,GAAGxC,QAAQ,CAAC,UAAU,CAAC;EAC1D,MAAM,CAACyC,WAAW,EAAEC,cAAc,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC2C,eAAe,EAAEC,kBAAkB,CAAC,GAAG5C,QAAQ,CAAC;IAAE6C,MAAM,EAAE,KAAK;IAAEC,MAAM,EAAE;EAAM,CAAC,CAAC;EACxF,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhD,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACiD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGlD,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAMmD,SAAS,GAAGlD,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMmD,cAAc,GAAGnD,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMoD,gBAAgB,GAAGpD,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMqD,eAAe,GAAGrD,MAAM,CAAC,IAAI,CAAC;;EAEpC;EACAC,SAAS,CAAC,MAAM;IACd,MAAMqD,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAMC,EAAE,GAAG,MAAM7C,SAAS;MAC1B,MAAM8C,MAAM,GAAG,MAAMD,EAAE,CAACE,GAAG,CAAC,CAAC;MAC7B9B,WAAW,CAAC6B,MAAM,CAACE,SAAS,CAAC;IAC/B,CAAC;IACDJ,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;;EAEN;EACArD,SAAS,CAAC,MAAM;IACd,IAAIyB,QAAQ,EAAE;MACZiC,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAACjC,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMiC,gBAAgB,GAAGA,CAAA,KAAM;IAC7BlC,SAAS,CAAC,0BAA0B,CAAC;;IAErC;IACA,MAAMmC,UAAU,GAAG1D,EAAE,CAACO,gBAAgB,CAACoD,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;MACzDC,UAAU,EAAE,CAAC,WAAW,CAAC;MACzBC,oBAAoB,EAAE,CAAC;MACvBC,iBAAiB,EAAE,IAAI;MACvBC,OAAO,EAAE;IACX,CAAC,CAAC;IAEFL,UAAU,CAACM,EAAE,CAAC,SAAS,EAAE,MAAM;MAC7B3B,cAAc,CAAC,QAAQ,CAAC;MACxBd,SAAS,CAAC,oCAAoC,CAAC;MAC/CmC,UAAU,CAACO,UAAU,CAAC,CAAC;IACzB,CAAC,CAAC;IAEFP,UAAU,CAACM,EAAE,CAAC,eAAe,EAAGE,GAAG,IAAK;MACtCC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC;MACvC7B,cAAc,CAAC,SAAS,CAAC;MACzBd,SAAS,CAAC,+CAA+C,CAAC;MAC1DmC,UAAU,CAACO,UAAU,CAAC,CAAC;IACzB,CAAC,CAAC;;IAEF;IACAI,UAAU,CAAC,MAAM;MACf,IAAIjC,WAAW,KAAK,UAAU,EAAE;QAC9BC,cAAc,CAAC,SAAS,CAAC;QACzBd,SAAS,CAAC,6CAA6C,CAAC;QACxDmC,UAAU,CAACO,UAAU,CAAC,CAAC;MACzB;IACF,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;;EAED;EACA,MAAMK,yBAAyB,GAAGA,CAAA,KAAM;IACtC,IAAI,CAAC1D,QAAQ,IAAI,CAACoC,SAAS,CAACuB,OAAO,EAAE;IAErC1B,qBAAqB,CAAC,IAAI,CAAC;IAC3BG,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,WAAW,EAAE;MAAE5D;IAAS,CAAC,EAAG6D,GAAG,IAAK;MACzD5B,qBAAqB,CAAC,KAAK,CAAC;MAC5B,IAAI4B,GAAG,IAAIA,GAAG,CAAC/B,MAAM,EAAE;QACrBK,oBAAoB,CAAC,KAAK,CAAC;QAC3BhB,gBAAgB,CAAC;UACfnB,QAAQ,EAAEA,QAAQ;UAClBI,OAAO,EAAE,aAAaJ,QAAQ;QAChC,CAAC,CAAC;MACJ,CAAC,MAAM;QACLmC,oBAAoB,CAAC,IAAI,CAAC;QAC1B2B,WAAW,CAAC,CAAC;MACf;IACF,CAAC,CAAC;EACJ,CAAC;EAED3E,SAAS,CAAC,MAAM;IACd,IAAIqB,SAAS,EAAE;MACb;MACA,IAAI4B,SAAS,CAACuB,OAAO,EAAE;QACrBvB,SAAS,CAACuB,OAAO,CAACN,UAAU,CAAC,CAAC;MAChC;;MAEA;MACAE,OAAO,CAACQ,GAAG,CAAC,2BAA2B,EAAEpE,gBAAgB,CAAC;MAC1DyC,SAAS,CAACuB,OAAO,GAAGvE,EAAE,CAACO,gBAAgB,CAACoD,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;QAC1DC,UAAU,EAAE,CAAC,WAAW,CAAC;QACzBC,oBAAoB,EAAE,CAAC;QACvBC,iBAAiB,EAAE,IAAI;QACvBc,KAAK,EAAE;UAAEpD;QAAS;MACpB,CAAC,CAAC;MAEFD,SAAS,CAAC,eAAe,CAAC;MAE1ByB,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,SAAS,EAAE,MAAM;QACpCzC,SAAS,CAAC,WAAW,CAAC;QACtBI,oBAAoB,CAAC;UACnBkD,QAAQ,EAAE7B,SAAS,CAACuB,OAAO,CAACO,EAAE;UAC9BC,SAAS,EAAE/B,SAAS,CAACuB,OAAO,CAACvE,EAAE,CAACgF,MAAM,CAACD,SAAS,CAACE,IAAI;UACrDC,WAAW,EAAEC;QACf,CAAC,CAAC;;QAEF;QACAnC,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,UAAU,EAAE;UAAE5D,QAAQ;UAAEY;QAAS,CAAC,EAAGiD,GAAG,IAAK;UAClE,IAAI,CAACA,GAAG,CAACW,OAAO,EAAE;YAChB7D,SAAS,CAAC,UAAUkD,GAAG,CAACY,MAAM,EAAE,CAAC;YACjCtD,gBAAgB,CAAC;cACfnB,QAAQ,EAAEA,QAAQ;cAClBI,OAAO,EAAE,UAAUyD,GAAG,CAACY,MAAM;YAC/B,CAAC,CAAC;YACFhE,YAAY,CAAC,KAAK,CAAC;YACnB2B,SAAS,CAACuB,OAAO,CAACN,UAAU,CAAC,CAAC;UAChC,CAAC,MAAM;YACL;YACAjB,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,cAAc,EAAE,IAAI,EAAGc,SAAS,IAAK;cAC1D,IAAIA,SAAS,EAAE;gBACbjD,cAAc,CAACiD,SAAS,CAAChE,MAAM,IAAI,QAAQ,CAAC;gBAC5Ca,iBAAiB,CAACmD,SAAS,CAACC,GAAG,IAAI,SAAS,CAAC;gBAC7C5D,oBAAoB,CAAC6D,IAAI,KAAK;kBAC5B,GAAGA,IAAI;kBACPtD,cAAc,EAAEoD,SAAS,CAACC,GAAG;kBAC7BnD,WAAW,EAAEkD,SAAS,CAAChE,MAAM,IAAI;gBACnC,CAAC,CAAC,CAAC;cACL;YACF,CAAC,CAAC;;YAEF;YACA0B,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,gBAAgB,EAAE,IAAI,EAAGiB,KAAK,IAAK;cACxD,IAAIA,KAAK,IAAIC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,EAAE;gBACjClD,cAAc,CAACkD,KAAK,CAAC;cACvB;YACF,CAAC,CAAC;;YAEF;YACAtC,eAAe,CAACoB,OAAO,GAAGqB,WAAW,CAAC,MAAM;cAC1C5C,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAGqB,QAAQ,IAAK;gBACjD,IAAIA,QAAQ,IAAIA,QAAQ,CAACzD,WAAW,EAAE;kBACpCC,cAAc,CAACwD,QAAQ,CAACzD,WAAW,CAAC;gBACtC;cACF,CAAC,CAAC;YACJ,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;UACb;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;MAEFY,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,eAAe,EAAGE,GAAG,IAAK;QAC7CC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC;QACvC3C,SAAS,CAAC,qBAAqB2C,GAAG,CAAClD,OAAO,EAAE,CAAC;QAC7CqB,cAAc,CAAC,SAAS,CAAC;MAC3B,CAAC,CAAC;MAEFW,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,YAAY,EAAGqB,MAAM,IAAK;QAC7C9D,SAAS,CAAC,iBAAiB8D,MAAM,EAAE,CAAC;QACpChD,cAAc,CAAC,SAAS,CAAC;QACzByD,aAAa,CAAC3C,eAAe,CAACoB,OAAO,CAAC;MACxC,CAAC,CAAC;MAEFvB,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,gBAAgB,EAAE,CAAC;QAAE+B,IAAI;QAAE/E,OAAO;QAAEgF;MAAa,CAAC,KAAK;QAC1E;QACA,MAAMC,gBAAgB,GAAG/E,QAAQ,CAACgF,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACJ,IAAI,KAAKA,IAAI,CAAC;QAClE,IAAIE,gBAAgB,CAACG,MAAM,GAAG,CAAC,IAAIH,gBAAgB,CAAC,CAAC,CAAC,CAACD,YAAY,IAC/DC,gBAAgB,CAAC,CAAC,CAAC,CAACD,YAAY,KAAKA,YAAY,EAAE;UACrDjE,gBAAgB,CAAC;YACfnB,QAAQ,EAAEmF,IAAI;YACd/E,OAAO,EAAE,YAAY+E,IAAI;UAC3B,CAAC,CAAC;QACJ;QAEA5E,WAAW,CAAEkF,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;UAAEN,IAAI;UAAE/E,OAAO;UAAEgF,YAAY;UAAEM,SAAS,EAAE,IAAIC,IAAI,CAAC;QAAE,CAAC,CAAC,CAAC;MAC1F,CAAC,CAAC;MAEFvD,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,YAAY,EAAE,CAAC;QAAEpD,QAAQ,EAAE4F;MAAW,CAAC,KAAK;QAC/D,IAAIA,UAAU,KAAK1F,SAAS,EAAE;UAC5BmB,SAAS,CAAC,IAAI,CAAC;UACfwE,YAAY,CAACvD,gBAAgB,CAACqB,OAAO,CAAC;UACtCrB,gBAAgB,CAACqB,OAAO,GAAGF,UAAU,CAAC,MAAMpC,SAAS,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;QACrE;MACF,CAAC,CAAC;MAEFe,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,kBAAkB,EAAE,CAAC;QAAEpD,QAAQ,EAAE8F,IAAI;QAAE/D;MAAO,CAAC,KAAK;QACvE,IAAI+D,IAAI,KAAK5F,SAAS,EAAE;UACtB2B,kBAAkB,CAAC+C,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAE7C;UAAO,CAAC,CAAC,CAAC;QACnD;;QAEA;QACAJ,cAAc,CAACiD,IAAI,IAAI;UACrB,IAAI7C,MAAM,IAAI,CAAC6C,IAAI,CAACmB,QAAQ,CAACD,IAAI,CAAC,EAAE;YAClC,OAAO,CAAC,GAAGlB,IAAI,EAAEkB,IAAI,CAAC;UACxB,CAAC,MAAM,IAAI,CAAC/D,MAAM,IAAI6C,IAAI,CAACmB,QAAQ,CAACD,IAAI,CAAC,EAAE;YACzC,OAAOlB,IAAI,CAACU,MAAM,CAACU,CAAC,IAAIA,CAAC,KAAKF,IAAI,CAAC;UACrC;UACA,OAAOlB,IAAI;QACb,CAAC,CAAC;MACJ,CAAC,CAAC;MAEFxC,SAAS,CAACuB,OAAO,CAACP,EAAE,CAAC,mBAAmB,EAAE,CAAC;QAAE6C,OAAO;QAAEvF;MAAO,CAAC,KAAK;QACjE,IAAII,iBAAiB,CAACQ,cAAc,KAAK2E,OAAO,EAAE;UAChDxE,cAAc,CAACf,MAAM,CAAC;UACtBK,oBAAoB,CAAC6D,IAAI,KAAK;YAC5B,GAAGA,IAAI;YACPpD,WAAW,EAAEd;UACf,CAAC,CAAC,CAAC;QACL;MACF,CAAC,CAAC;MAEF,OAAO,MAAM;QACXwE,aAAa,CAAC3C,eAAe,CAACoB,OAAO,CAAC;QACtCvB,SAAS,CAACuB,OAAO,CAACN,UAAU,CAAC,CAAC;MAChC,CAAC;IACH;EACF,CAAC,EAAE,CAAC7C,SAAS,EAAER,QAAQ,EAAEY,QAAQ,EAAEN,QAAQ,EAAEQ,iBAAiB,CAACQ,cAAc,CAAC,CAAC;;EAE/E;EACAnC,SAAS,CAAC,MAAM;IACd,IAAIqB,SAAS,IAAI4B,SAAS,CAACuB,OAAO,IAAIzD,SAAS,EAAE;MAC/CkC,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,gBAAgB,EAAE;QAAE5D,QAAQ,EAAEE;MAAU,CAAC,EAAG2D,GAAG,IAAK;QACzEhC,kBAAkB,CAACgC,GAAG,IAAI;UAAE/B,MAAM,EAAE,KAAK;UAAEC,MAAM,EAAE;QAAM,CAAC,CAAC;MAC7D,CAAC,CAAC;IACJ,CAAC,MAAM;MACLF,kBAAkB,CAAC;QAAEC,MAAM,EAAE,KAAK;QAAEC,MAAM,EAAE;MAAM,CAAC,CAAC;IACtD;EACF,CAAC,EAAE,CAACvB,SAAS,EAAEN,SAAS,CAAC,CAAC;EAE1Bf,SAAS,CAAC,MAAM;IAAA,IAAA+G,qBAAA;IACd,CAAAA,qBAAA,GAAA7D,cAAc,CAACsB,OAAO,cAAAuC,qBAAA,uBAAtBA,qBAAA,CAAwBC,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAAC9F,QAAQ,CAAC,CAAC;EAEd,MAAM+F,oBAAoB,GAAIC,CAAC,IAAK;IAClCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIvG,QAAQ,IAAIwB,WAAW,KAAK,QAAQ,EAAE;MACxC;MACAf,YAAY,CAAC,IAAI,CAAC;MAClB;IACF;EACF,CAAC;EAED,MAAMqD,WAAW,GAAGA,CAAA,KAAM;IACxB;IACAP,OAAO,CAACQ,GAAG,CAAC,2CAA2C,CAAC;EAC1D,CAAC;;EAED;EACA,MAAMyC,qBAAqB,GAAIF,CAAC,IAAK;IACnCnG,YAAY,CAACmG,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;IAC5B7E,kBAAkB,CAAC;MAAEC,MAAM,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAM,CAAC,CAAC;EACtD,CAAC;;EAED;EACA,MAAM4E,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAACzG,SAAS,IAAI,CAACkC,SAAS,CAACuB,OAAO,EAAE;IAEtCvB,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,gBAAgB,EAAE;MAAE5D,QAAQ,EAAEE;IAAU,CAAC,EAAG2D,GAAG,IAAK;MACzEhC,kBAAkB,CAACgC,GAAG,IAAI;QAAE/B,MAAM,EAAE,KAAK;QAAEC,MAAM,EAAE;MAAM,CAAC,CAAC;IAC7D,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAM6E,UAAU,GAAIN,CAAC,IAAK;IACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACrG,SAAS,IAAI,CAACE,OAAO,IAAI,CAACgC,SAAS,CAACuB,OAAO,EAAE;;IAElD;IACAvB,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,gBAAgB,EAAE;MAAE5D,QAAQ,EAAEE;IAAU,CAAC,EAAG2D,GAAG,IAAK;MACzE,IAAI,CAACA,GAAG,CAAC/B,MAAM,EAAE;QACfX,gBAAgB,CAAC;UACfnB,QAAQ,EAAEE,SAAS;UACnBE,OAAO,EAAE,QAAQF,SAAS;QAC5B,CAAC,CAAC;QACF;MACF;MAEA,IAAI,CAAC2D,GAAG,CAAC9B,MAAM,EAAE;QACfZ,gBAAgB,CAAC;UACfnB,QAAQ,EAAEE,SAAS;UACnBE,OAAO,EAAE,QAAQF,SAAS;QAC5B,CAAC,CAAC;QACF;MACF;;MAEA;MACAqD,OAAO,CAACQ,GAAG,CAAC,qBAAqB,EAAE7D,SAAS,CAAC;MAC7CkC,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,aAAa,EAAE;QAAEiD,EAAE,EAAE3G,SAAS;QAAEE,OAAO;QAAEQ;MAAS,CAAC,EAAGiD,GAAG,IAAK;QACnFN,OAAO,CAACQ,GAAG,CAAC,wBAAwB,EAAEF,GAAG,CAAC;QAC1C,IAAIA,GAAG,aAAHA,GAAG,eAAHA,GAAG,CAAEiD,SAAS,EAAE;UAClBvG,WAAW,CAAEkF,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;YAAEN,IAAI,EAAEnF,QAAQ;YAAEI,OAAO;YAAEgF,YAAY,EAAExE,QAAQ;YAAE8E,SAAS,EAAE,IAAIC,IAAI,CAAC;UAAE,CAAC,CAAC,CAAC;UAC5GtF,UAAU,CAAC,EAAE,CAAC;QAChB,CAAC,MAAM;UACLM,SAAS,CAAC,CAAAkD,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEY,MAAM,KAAI,iBAAiB,CAAC;UAC3CtD,gBAAgB,CAAC;YACfnB,QAAQ,EAAEE,SAAS;YACnBE,OAAO,EAAE,2BAA2B,CAAAyD,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEY,MAAM,KAAI,iBAAiB;UACtE,CAAC,CAAC;QACJ;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,MAAMsC,mBAAmB,GAAIT,CAAC,IAAK;IACjCjG,UAAU,CAACiG,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;IAC1B;IACA,IAAItE,SAAS,CAACuB,OAAO,IAAIzD,SAAS,EAAE;MAClCkC,SAAS,CAACuB,OAAO,CAACC,IAAI,CAAC,QAAQ,EAAE;QAAEiD,EAAE,EAAE3G;MAAU,CAAC,CAAC;IACrD;EACF,CAAC;EAED,MAAM8G,YAAY,GAAGA,CAAA,KAAM;IACzB7F,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAM8F,eAAe,GAAGA,CAAA,KAAM;IAC5BpE,gBAAgB,CAAC,CAAC;EACpB,CAAC;;EAED;EACA,MAAMqE,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,GAAG,GAAG,IAAIxB,IAAI,CAAC,CAAC;IACtB,OAAO,IAAIwB,GAAG,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIH,GAAG,CAACI,UAAU,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIH,GAAG,CAACK,UAAU,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG;EAC1J,CAAC;;EAED;EACA,MAAMG,iBAAiB,GAAI/B,SAAS,IAAK;IACvC,IAAI,CAACA,SAAS,EAAE,OAAOwB,YAAY,CAAC,CAAC;IACrC,MAAMQ,IAAI,GAAG,IAAI/B,IAAI,CAACD,SAAS,CAAC;IAChC,OAAO,IAAIgC,IAAI,CAACN,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAII,IAAI,CAACH,UAAU,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAII,IAAI,CAACF,UAAU,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG;EAC7J,CAAC;EAED,oBACE9H,OAAA;IAAKmI,KAAK,EAAE;MACVC,UAAU,EAAE,SAAS;MACrBC,SAAS,EAAE,OAAO;MAClBC,KAAK,EAAE,SAAS;MAChBC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE;IACd,CAAE;IAAAC,QAAA,eACA3I,OAAA;MAAKmI,KAAK,EAAE;QACVC,UAAU,EAAE,SAAS;QACrBQ,OAAO,EAAE,EAAE;QACXC,YAAY,EAAE,CAAC;QACfC,QAAQ,EAAE,GAAG;QACbC,QAAQ,EAAE,GAAG;QACbC,SAAS,EAAE,oCAAoC;QAC/CC,MAAM,EAAE;MACV,CAAE;MAAAN,QAAA,gBACA3I,OAAA;QAAKmI,KAAK,EAAE;UACVI,OAAO,EAAE,MAAM;UACfE,cAAc,EAAE,eAAe;UAC/BD,UAAU,EAAE,QAAQ;UACpBU,YAAY,EAAE;QAChB,CAAE;QAAAP,QAAA,gBACA3I,OAAA;UAAImI,KAAK,EAAE;YACTgB,MAAM,EAAE,CAAC;YACTb,KAAK,EAAE,SAAS;YAChBI,UAAU,EAAE,wBAAwB;YACpCU,aAAa,EAAE;UACjB,CAAE;UAAAT,QAAA,EAAC;QAAW;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnBxJ,OAAA;UAAKmI,KAAK,EAAE;YACVsB,QAAQ,EAAE,EAAE;YACZb,OAAO,EAAE,SAAS;YAClBC,YAAY,EAAE,CAAC;YACfT,UAAU,EAAEpG,WAAW,KAAK,QAAQ,GAAG,SAAS,GAAG,SAAS;YAC5DsG,KAAK,EAAEtG,WAAW,KAAK,QAAQ,GAAG,SAAS,GAAG,SAAS;YACvD0H,MAAM,EAAE;UACV,CAAE;UAACC,OAAO,EAAEA,CAAA,KAAMlI,qBAAqB,CAAC,CAACD,kBAAkB,CAAE;UAAAmH,QAAA,EAC1D3G,WAAW,KAAK,QAAQ,GAAG,cAAc,GAAG;QAAe;UAAAqH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAELhI,kBAAkB,iBACjBxB,OAAA;QAAKmI,KAAK,EAAE;UACVC,UAAU,EAAE,SAAS;UACrBQ,OAAO,EAAE,EAAE;UACXC,YAAY,EAAE,CAAC;UACfY,QAAQ,EAAE,EAAE;UACZf,UAAU,EAAE,WAAW;UACvBQ,YAAY,EAAE,EAAE;UAChBD,MAAM,EAAE;QACV,CAAE;QAAAN,QAAA,gBACA3I,OAAA;UAAA2I,QAAA,GAAK,UAAQ,EAACzH,MAAM;QAAA;UAAAmI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EAC1BxI,SAAS,iBACRhB,OAAA,CAAAE,SAAA;UAAAyI,QAAA,gBACE3I,OAAA;YAAA2I,QAAA,GAAK,aAAW,EAACrH,iBAAiB,CAACmD,QAAQ,IAAI,SAAS;UAAA;YAAA4E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/DxJ,OAAA;YAAA2I,QAAA,GAAK,aAAW,EAACrH,iBAAiB,CAACqD,SAAS,IAAI,SAAS;UAAA;YAAA0E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChExJ,OAAA;YAAA2I,QAAA,GAAK,aAAW,EAACrH,iBAAiB,CAACwD,WAAW,IAAI,SAAS;UAAA;YAAAuE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAClExJ,OAAA;YAAA2I,QAAA,GAAK,gBAAc,EAACrH,iBAAiB,CAACQ,cAAc,IAAIA,cAAc;UAAA;YAAAuH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,eAC7E,CACH,eACDxJ,OAAA;UAAA2I,QAAA,GAAK,gBAAc,eAAA3I,OAAA;YAAMmI,KAAK,EAAE;cAC9BG,KAAK,EAAEtG,WAAW,KAAK,QAAQ,GAAG,SAAS,GAAG;YAChD,CAAE;YAAA2G,QAAA,EAAE3G;UAAW;YAAAqH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC5BpI,QAAQ,iBAAIpB,OAAA;UAAA2I,QAAA,GAAK,aAAW,EAACvH,QAAQ,CAACwI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,KAAG;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC/DxI,SAAS,IAAIkB,WAAW,CAAC8D,MAAM,GAAG,CAAC,iBAClChG,OAAA;UAAKmI,KAAK,EAAE;YAAE0B,SAAS,EAAE;UAAE,CAAE;UAAAlB,QAAA,GAAC,gBAAc,EAACzG,WAAW,CAAC4H,IAAI,CAAC,IAAI,CAAC;QAAA;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAC1E;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,EAEA9H,aAAa,iBACZ1B,OAAA;QAAKmI,KAAK,EAAE;UACVC,UAAU,EAAE,SAAS;UACrBE,KAAK,EAAE,SAAS;UAChBM,OAAO,EAAE,EAAE;UACXC,YAAY,EAAE,CAAC;UACfK,YAAY,EAAE,EAAE;UAChBa,QAAQ,EAAE,UAAU;UACpBN,QAAQ,EAAE;QACZ,CAAE;QAAAd,QAAA,gBACA3I,OAAA;UAAKmI,KAAK,EAAE;YAAE6B,WAAW,EAAE;UAAG,CAAE;UAAArB,QAAA,EAAEjH,aAAa,CAACd;QAAO;UAAAyI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC9DxJ,OAAA;UACEmI,KAAK,EAAE;YACL4B,QAAQ,EAAE,UAAU;YACpBE,GAAG,EAAE,CAAC;YACNC,KAAK,EAAE,CAAC;YACR9B,UAAU,EAAE,MAAM;YAClBa,MAAM,EAAE,MAAM;YACdX,KAAK,EAAE,SAAS;YAChBoB,MAAM,EAAE,SAAS;YACjBD,QAAQ,EAAE;UACZ,CAAE;UACFE,OAAO,EAAEnC,YAAa;UAAAmB,QAAA,EACvB;QAED;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,EAEA,CAACxI,SAAS,gBACThB,OAAA;QAAMmK,QAAQ,EAAE7F,WAAY;QAAAqE,QAAA,gBAC1B3I,OAAA;UAAKmI,KAAK,EAAE;YAAEe,YAAY,EAAE,EAAE;YAAEO,QAAQ,EAAE,EAAE;YAAEnB,KAAK,EAAE;UAAU,CAAE;UAAAK,QAAA,GAC9DjB,YAAY,CAAC,CAAC,EAAC,oCAClB;QAAA;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNxJ,OAAA;UACEmI,KAAK,EAAE;YACLiC,KAAK,EAAE,MAAM;YACbxB,OAAO,EAAE,EAAE;YACXM,YAAY,EAAE,EAAE;YAChBL,YAAY,EAAE,CAAC;YACfI,MAAM,EAAE,mBAAmB;YAC3Bb,UAAU,EAAE,SAAS;YACrBE,KAAK,EAAE,SAAS;YAChBmB,QAAQ,EAAE,EAAE;YACZf,UAAU,EAAE;UACd,CAAE;UACF2B,WAAW,EAAC,gBAAgB;UAC5BnD,KAAK,EAAE1G,QAAS;UAChB8J,QAAQ,EAAExD,CAAC,IAAIrG,WAAW,CAACqG,CAAC,CAACG,MAAM,CAACC,KAAK,CAAE;UAC3CqD,QAAQ;QAAA;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACFxJ,OAAA;UACEmI,KAAK,EAAE;YACLiC,KAAK,EAAE,MAAM;YACbxB,OAAO,EAAE,EAAE;YACXC,YAAY,EAAE,CAAC;YACfT,UAAU,EAAE,0CAA0C;YACtDE,KAAK,EAAE,SAAS;YAChBkC,UAAU,EAAE,MAAM;YAClBf,QAAQ,EAAE,EAAE;YACZR,MAAM,EAAE,MAAM;YACdS,MAAM,EAAE,SAAS;YACjBhB,UAAU,EAAE;UACd,CAAE;UACF+B,IAAI,EAAC,QAAQ;UAAA9B,QAAA,EACd;QAED;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTxJ,OAAA;UAAKmI,KAAK,EAAE;YAAE0B,SAAS,EAAE,EAAE;YAAEvB,KAAK,EAAE,SAAS;YAAEoC,SAAS,EAAE,QAAQ;YAAEjB,QAAQ,EAAE;UAAG,CAAE;UAAAd,QAAA,EAChFzH,MAAM,KAAK,cAAc,IAAIA;QAAM;UAAAmI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,gBAEPxJ,OAAA,CAAAE,SAAA;QAAAyI,QAAA,gBACE3I,OAAA;UAAMmK,QAAQ,EAAE/C,UAAW;UAACe,KAAK,EAAE;YAAEI,OAAO,EAAE,MAAM;YAAEoC,aAAa,EAAE,QAAQ;YAAEzB,YAAY,EAAE;UAAG,CAAE;UAAAP,QAAA,gBAChG3I,OAAA;YAAKmI,KAAK,EAAE;cAAEI,OAAO,EAAE,MAAM;cAAEW,YAAY,EAAE;YAAE,CAAE;YAAAP,QAAA,gBAC/C3I,OAAA;cACEmI,KAAK,EAAE;gBACLyC,IAAI,EAAE,CAAC;gBACPhC,OAAO,EAAE,EAAE;gBACXC,YAAY,EAAE,CAAC;gBACfI,MAAM,EAAE,mBAAmB;gBAC3Bb,UAAU,EAAE,SAAS;gBACrBE,KAAK,EAAE,SAAS;gBAChBmB,QAAQ,EAAE,EAAE;gBACZO,WAAW,EAAE,CAAC;gBACdtB,UAAU,EAAE;cACd,CAAE;cACF2B,WAAW,EAAC,oBAAoB;cAChCnD,KAAK,EAAExG,SAAU;cACjB4J,QAAQ,EAAEtD,qBAAsB;cAChC6D,MAAM,EAAE1D,cAAe;cACvBoD,QAAQ;YAAA;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,EACD9I,SAAS,iBACRV,OAAA;cAAKmI,KAAK,EAAE;gBACVI,OAAO,EAAE,MAAM;gBACfC,UAAU,EAAE,QAAQ;gBACpBsC,UAAU,EAAE,CAAC;gBACbrB,QAAQ,EAAE;cACZ,CAAE;cAAAd,QAAA,gBACA3I,OAAA;gBAAKmI,KAAK,EAAE;kBACViC,KAAK,EAAE,CAAC;kBACRW,MAAM,EAAE,CAAC;kBACTlC,YAAY,EAAE,KAAK;kBACnBT,UAAU,EAAEhG,eAAe,CAACG,MAAM,GAAG,SAAS,GAAG,SAAS;kBAC1DyH,WAAW,EAAE;gBACf;cAAE;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EACRpH,eAAe,CAACE,MAAM,GAClBF,eAAe,CAACG,MAAM,GAAG,QAAQ,GAAG,SAAS,GAC9C,WAAW;YAAA;cAAA8G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNxJ,OAAA;YAAKmI,KAAK,EAAE;cAAEI,OAAO,EAAE;YAAO,CAAE;YAAAI,QAAA,gBAC9B3I,OAAA;cACEmI,KAAK,EAAE;gBACLyC,IAAI,EAAE,CAAC;gBACPhC,OAAO,EAAE,EAAE;gBACXC,YAAY,EAAE,CAAC;gBACfI,MAAM,EAAE,mBAAmB;gBAC3Bb,UAAU,EAAE,SAAS;gBACrBE,KAAK,EAAE,SAAS;gBAChBmB,QAAQ,EAAE,EAAE;gBACZO,WAAW,EAAE,CAAC;gBACdtB,UAAU,EAAE;cACd,CAAE;cACF2B,WAAW,EAAC,gBAAgB;cAC5BnD,KAAK,EAAEtG,OAAQ;cACf0J,QAAQ,EAAE/C,mBAAoB;cAC9BgD,QAAQ;YAAA;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACFxJ,OAAA;cACEmI,KAAK,EAAE;gBACLS,OAAO,EAAE,QAAQ;gBACjBC,YAAY,EAAE,CAAC;gBACfT,UAAU,EAAEhG,eAAe,KAAK,QAAQ,GACtC,0CAA0C,GAC1C,0CAA0C;gBAC5CkG,KAAK,EAAE,SAAS;gBAChBkC,UAAU,EAAE,MAAM;gBAClBf,QAAQ,EAAE,EAAE;gBACZR,MAAM,EAAE,MAAM;gBACdS,MAAM,EAAEtH,eAAe,KAAK,QAAQ,GAAG,SAAS,GAAG,aAAa;gBAChEsG,UAAU,EAAE;cACd,CAAE;cACF+B,IAAI,EAAC,QAAQ;cACbO,QAAQ,EAAE5I,eAAe,KAAK,QAAS;cAAAuG,QAAA,EACxC;YAED;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,EAEN5H,MAAM,IAAIlB,SAAS,iBAClBV,OAAA;UAAKmI,KAAK,EAAE;YAAEsB,QAAQ,EAAE,EAAE;YAAEnB,KAAK,EAAE,SAAS;YAAEY,YAAY,EAAE;UAAE,CAAE;UAAAP,QAAA,GAC7DjI,SAAS,EAAC,eACb;QAAA;UAAA2I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN,eAEDxJ,OAAA;UAAKmI,KAAK,EAAE;YACVC,UAAU,EAAE,SAAS;YACrBS,YAAY,EAAE,CAAC;YACfD,OAAO,EAAE,EAAE;YACXP,SAAS,EAAE,GAAG;YACd4C,SAAS,EAAE,GAAG;YACdC,SAAS,EAAE,MAAM;YACjBhC,YAAY,EAAE,EAAE;YAChBD,MAAM,EAAE,mBAAmB;YAC3BP,UAAU,EAAE;UACd,CAAE;UAAAC,QAAA,GACC7H,QAAQ,CAACkF,MAAM,KAAK,CAAC,gBACpBhG,OAAA;YAAKmI,KAAK,EAAE;cAAEG,KAAK,EAAE,SAAS;cAAEmB,QAAQ,EAAE;YAAG,CAAE;YAAAd,QAAA,GAC5CjB,YAAY,CAAC,CAAC,EAAC,mDAClB;UAAA;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,GAEN1I,QAAQ,CAACqK,GAAG,CAAC,CAACpF,GAAG,EAAEqF,CAAC,kBAClBpL,OAAA;YAAamI,KAAK,EAAE;cAClBe,YAAY,EAAE,EAAE;cAChBN,OAAO,EAAE,CAAC;cACVC,YAAY,EAAE,CAAC;cACfT,UAAU,EAAErC,GAAG,CAACJ,IAAI,KAAKnF,QAAQ,GAAG,yBAAyB,GAAG,0BAA0B;cAC1F6K,UAAU,EAAEtF,GAAG,CAACJ,IAAI,KAAKnF,QAAQ,GAAG,mBAAmB,GAAG;YAC5D,CAAE;YAAAmI,QAAA,gBACA3I,OAAA;cAAKmI,KAAK,EAAE;gBACVI,OAAO,EAAE,MAAM;gBACfE,cAAc,EAAE,eAAe;gBAC/BS,YAAY,EAAE,CAAC;gBACfO,QAAQ,EAAE;cACZ,CAAE;cAAAd,QAAA,gBACA3I,OAAA;gBAAMmI,KAAK,EAAE;kBACXG,KAAK,EAAEvC,GAAG,CAACJ,IAAI,KAAKnF,QAAQ,GAAG,SAAS,GAAG,SAAS;kBACpDgK,UAAU,EAAE;gBACd,CAAE;gBAAA7B,QAAA,EACC5C,GAAG,CAACJ,IAAI,KAAKnF,QAAQ,GAAG,KAAK,GAAGuF,GAAG,CAACJ;cAAI;gBAAA0D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,eACPxJ,OAAA;gBAAMmI,KAAK,EAAE;kBAAEG,KAAK,EAAE;gBAAU,CAAE;gBAAAK,QAAA,EAAEV,iBAAiB,CAAClC,GAAG,CAACG,SAAS;cAAC;gBAAAmD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzE,CAAC,eACNxJ,OAAA;cAAKmI,KAAK,EAAE;gBAAEmD,SAAS,EAAE,YAAY;gBAAE7B,QAAQ,EAAE;cAAG,CAAE;cAAAd,QAAA,EAAE5C,GAAG,CAACnF;YAAO;cAAAyI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,GArBlE4B,CAAC;YAAA/B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAsBN,CACN,CACF,eACDxJ,OAAA;YAAKuL,GAAG,EAAE1I;UAAe;YAAAwG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,eAENxJ,OAAA;UAAKmI,KAAK,EAAE;YAAEI,OAAO,EAAE,MAAM;YAAEE,cAAc,EAAE;UAAgB,CAAE;UAAAE,QAAA,gBAC/D3I,OAAA;YACEmI,KAAK,EAAE;cACLS,OAAO,EAAE,UAAU;cACnBC,YAAY,EAAE,CAAC;cACfT,UAAU,EAAE,SAAS;cACrBE,KAAK,EAAE,SAAS;cAChBmB,QAAQ,EAAE,EAAE;cACZR,MAAM,EAAE,MAAM;cACdS,MAAM,EAAE,SAAS;cACjBhB,UAAU,EAAE;YACd,CAAE;YACFiB,OAAO,EAAEA,CAAA,KAAM1I,YAAY,CAAC,KAAK,CAAE;YAAA0H,QAAA,EACpC;UAED;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETxJ,OAAA;YAAKmI,KAAK,EAAE;cACVsB,QAAQ,EAAE,EAAE;cACZnB,KAAK,EAAE,SAAS;cAChBC,OAAO,EAAE,MAAM;cACfC,UAAU,EAAE;YACd,CAAE;YAAAG,QAAA,gBACA3I,OAAA;cAAKmI,KAAK,EAAE;gBACViC,KAAK,EAAE,CAAC;gBACRW,MAAM,EAAE,CAAC;gBACTlC,YAAY,EAAE,KAAK;gBACnBT,UAAU,EAAElH,MAAM,CAACqF,QAAQ,CAAC,WAAW,CAAC,GAAG,SAAS,GAAG,SAAS;gBAChEyD,WAAW,EAAE;cACf;YAAE;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EACRtI,MAAM,CAACqF,QAAQ,CAAC,WAAW,CAAC,GAAG,mBAAmB,GAAG,iBAAiB;UAAA;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA,eACN,CACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACjJ,EAAA,CAppBQD,GAAG;AAAAkL,EAAA,GAAHlL,GAAG;AAspBZ,eAAeA,GAAG;;AAElB;AACA,MAAM0G,qBAAqB,GAAIF,CAAC,IAAK;EACnCnG,YAAY,CAACmG,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;EAC5B7E,kBAAkB,CAAC;IAAEC,MAAM,EAAE,KAAK;IAAEC,MAAM,EAAE;EAAM,CAAC,CAAC;AACtD,CAAC;AAAC,IAAAiJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}